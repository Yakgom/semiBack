<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">

<properties>

	<comment>MEMBER SQL</comment>

    <entry key="findAll">
      SELECT 
	         EMP_ID
	       , EMP_NAME
	       , SALARY
	       , DEPT_TITLE
	       , JOB_NAME
	    FROM
	         EMPLOYEE
	    JOIN
	         DEPARTMENT ON DEPT_ID = DEPT_CODE
	    JOIN
	  	  	 JOB
	   USING 
	         (JOB_CODE)
	   WHERE
	         ENT_YN = 'N'      
	   ORDER     
	 	  BY
	 	     EMP_ID  		 
    </entry>

	<entry key="findByDept">
	
	SELECT 
	       EMP_ID
	     , EMP_NAME
	     , SALARY
	     , DEPT_TITLE
	     , JOB_NAME
	  FROM
	       EMPLOYEE
	  JOIN
	       DEPARTMENT ON DEPT_ID = DEPT_CODE
	  JOIN
	  		 JOB
	       USING (JOB_CODE)
	 WHERE
	       DEPT_TITLE = ?
	 ORDER     
	 	BY
	 	    EMP_ID  
	        
	</entry>
	
	
	<entry key="findByJob">
	SELECT 
	       EMP_ID
	     , EMP_NAME
	     , SALARY
	     , DEPT_TITLE
	     , JOB_NAME
	  FROM
	       EMPLOYEE
	  JOIN
	       DEPARTMENT ON DEPT_ID = DEPT_CODE
	  JOIN
	  		 JOB
	       USING (JOB_CODE)
	 WHERE
	       JOB_NAME = ?
	 ORDER     
	 	BY
	 	    EMP_ID  	       
	</entry>
	
	
	
	<entry key="findById">
	SELECT
	       EMP_ID
	     , EMP_NAME
	     , EMP_NO
	     , EMAIL
	     , PHONE
	     , DEPT_CODE
	     , JOB_CODE
	     , SAL_LEVEL
	     , SALARY
	     , BONUS
	     , MANAGER_ID
	     , HIRE_DATE
	     , ENT_DATE
	     , ENT_YN
	  FROM
	       EMPLOYEE
	 WHERE
	       EMP_ID = ?
	 ORDER     
	 	BY
	 	   EMP_ID  
	</entry>
	
	<entry key="save">
	
	INSERT
	  INTO
	       EMPLOYEE
	       (
	       EMP_ID
	     , EMP_NAME
	     , EMP_NO
	     , EMAIL
	     , PHONE
	     , DEPT_CODE
	     , JOB_CODE
	     , SAL_LEVEL
	     , SALARY
	     , BONUS
	     , MANAGER_ID
	     , HIRE_DATE
	       )
	VALUES
	       (
	       SEQ_EMPID.NEXTVAL
	     , ?
	     , ?
	     , ?
	     , ?
	     , ?
	     , ?
	     , ?
	     , ?
	     , ?
	     , ?
	     , SYSDATE
	       )
	</entry>
	
	<entry key="findByHighSalary">
	SELECT
	       EMP_ID
	     , EMP_NAME
	     , EMP_NO
	     , EMAIL
	     , PHONE
	     , DEPT_CODE
	     , JOB_CODE
	     , SAL_LEVEL
	     , SALARY
	     , BONUS
	     , MANAGER_ID
	     , HIRE_DATE
	     , ENT_DATE
	     , ENT_YN
	  FROM
	       EMPLOYEE
	 ORDER     
	    BY
	       SALARY DESC NULLS LAST 
	OFFSET 
	       0 ROWS  FETCH NEXT 5 ROWS ONLY
	</entry>
	
	<entry key="findByLowSalary">
	SELECT
	       EMP_ID
	     , EMP_NAME
	     , EMP_NO
	     , EMAIL
	     , PHONE
	     , DEPT_CODE
	     , JOB_CODE
	     , SAL_LEVEL
	     , SALARY
	     , BONUS
	     , MANAGER_ID
	     , HIRE_DATE
	     , ENT_DATE
	     , ENT_YN
	  FROM
	       EMPLOYEE
	 ORDER     
	    BY
	       SALARY ASC NULLS LAST 
	OFFSET 
	       0 ROWS  FETCH NEXT 5 ROWS ONLY
	</entry>
	
	<entry key="update">
	UPDATE 
		   EMPLOYEE E
	   SET E.JOB_CODE = (
	         SELECT J.JOB_CODE
	           FROM JOB J
	          WHERE J.JOB_NAME = ?
	       ),
	       E.DEPT_CODE = (
	         SELECT D.DEPT_ID
	           FROM DEPARTMENT D
	          WHERE D.DEPT_TITLE = ?
	       )
	 WHERE E.EMP_ID = ?
	</entry>
	
	<entry key="delete">
	UPDATE
	       EMPLOYEE
	   SET
	       ENT_YN = 'Y'
	     , ENT_DATE = SYSDATE
	 WHERE
	       EMP_ID = ?
	</entry>
</properties>


